style:
  WildcardImport:
    active: false

processors:
  active: true
  #exclude:
    #- 'ProjectCLOCProcessor'
    #- 'DetektProgressListener'
    #- 'KtFileCountProcessor'
    #- 'PackageCountProcessor'
    #- 'ClassCountProcessor'
    #- 'FunctionCountProcessor'
 #   - 'PropertyCountProcessor'
  # - 'ProjectComplexityProcessor'
  # - 'ProjectCognitiveComplexityProcessor'
  # - 'ProjectLLOCProcessor'
  # - 'ProjectLOCProcessor'
  # - 'ProjectSLOCProcessor'
  # - 'LicenseHeaderLoaderExtension'


package-restriction:
  project-package-prefix: &project-package-prefix io.ytka.packagerestriction  # prefixにマッチするパッケージ名を対象とする。import先のチェックもこのprefixを含むものだけを対象とする。
  PackageDependencyRule:
    active: true
    project-package-prefix: *project-package-prefix
    restrictions:
      - package: detektext{,.*}
        import-allows:
          - detektext{,.*}
          - imports{,.*}
          - packagedeps{,.*}
          - packagepath{,.*}
      - package: imports{,.*}
        import-allow:
          - packagepath{,.*}
      - package: packagedeps{,.*}
        import-denys: ["*"]
  PackageCyclomaticComplexRule:
    active: true
    project-package-prefix: *project-package-prefix
    restrictions:
      - package: detektext{,.*}
        cyclomatic-complex-threshold: 7
      - package: imports{,.*}
        cyclomatic-complex-threshold: 5
      - package: packagedeps{,.*}
        cyclomatic-complex-threshold: 7
